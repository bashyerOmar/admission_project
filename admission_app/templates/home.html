<!DOCTYPE html>
<html lang="en">

<head>
  <title>Admission</title>
  <link rel="icon" type="image/x-icon" href="../static/images/nav_logo.png" style="width:30px;">
</head>
{% load static %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}">

<!--font awesom cdn-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light nav-fixed">
    <div class="container-fluid">
      {% load static %}
      <img class='logo-nav' src="{% static 'images/logo-2.png' %}" alt="logo">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      {% if "userId" in request.session %}
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="/home">Home</a>
          </li>
          <li class="nav-item">
            {% if request.session.role == 'admin' %}
            <a class="nav-link" href="/admin" class="btn btn-dark">Profile</a>
            {% else %}
            <a class="nav-link" href="/student_profile/{{ request.session.userId}}">Profile</a>
            {% endif %}
          </li>
          <li class="nav-item">
            <a class="nav-link " aria-current="page" href="#contacts">Contacat</a>
          </li>
          {% if request.session.role == 'admin' %}
          <li class="nav-item">
            <a href="/admin#pennding" data-scroll="pennding" class="nav-link">pennding requests
              <span class="badge bg-info ms-2">{{ request.session.request_pennding }}</span></a>

          </li>
          <li class="nav-item">
            <a href="/show_message" class="nav-link">Messages <span class="badge bg-info ms-2">{{ request.session.msgs
                }}</span></a>
          </li>
          {% endif %}
        </ul>
        <div class="mr-4">
          <a href="/logout" class="text-light icon-person"><i class="fas fa-user-alt fa-lg"></i></a>
        </div>
        <div class="mr-2 logout ">
          <a href="/logout" class="icon-logout">Logout </a>

          <a href="/logout"> <span class="mt-2"><i class="fas fa-sign-out-alt fa-lg  icon-logout"></i></span> </a>
        </div>

      </div>
      {% else %}
      <div class="mr-2">
        <a href="/register" class="btn btn-dark">Login</a>
      </div>
      {% endif %}
    </div>
  </nav>
  <button class="top-btn">üîù</button>

  <section class="home w-100">
    <div class="img-bg">
      <div class="overlay">
        <div class="container">
          <div class="content">
            <h3>The Lowest Prices Available </h3>
            <div id="type_text"></div>
            <div class="content-btn">
              <a href="#home" class="btn btn-content">get your now</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="row row-cols-1 row-cols-md-4 g-4">
    {% for course in courses %}
    <div class="col">
      <form method="post" action="/apply_course/{{course.id}}" class='card-deck'>
        <div class="card" style="width: 16rem;">
          <img src="{{course.photo.url}}" class="card-img-top" style="width:100%; height:200px;" alt="...">
          <div class="card-body">
            <h5 class="card-title">{{course.name}}</h5>
            <p class="card-text">{{course.desc}}</p>
            <p class="card-text"><small class="text-muted">Created at: {{course.created_at.date}}</small></p>
            {% if request.session.role == 'admin' %}
            <a class="btn btn-info" style="color: white;" href="/delete_course/{{course.id}}">Delete</a>
            {% elif "userId" not in request.session %}
            <a class="btn btn-info" style="color: white;" href="/register">Apply</a>
            {% else %}
            <input class="btn btn-primary" type="submit" name="btn" id="" value="Apply">
            {% endif %}
          </div>
        </div>
    </div>
    {% csrf_token %}
    </form>
    {%endfor%}
  </div>

  {% if not request.session.role == 'admin' %}
  <section class="contacts" id="contacts">
    <div class="container">
      <h3 class="text-center  mb-5">Contacat Us</h3>
      <div class="row mt-2 ">
        <div class="col-md-6">
          <div class="map">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3624.4511370374094!2d46.672206415518346!3d24.71138765730089!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3e2f03280e046f99%3A0x37737eab160a212!2sKingdom%20Tower!5e0!3m2!1sen!2str!4v1632085323976!5m2!1sen!2str"
              style="border:0;" allowfullscreen="" loading="lazy"></iframe>
          </div>
        </div>
        <div class="col-md-6 ">
          <form class="contact-form row needs-validation" method="post" action="/add_message" novalidate>
            <div class="col-md-6 mb-3">
              <input type="text" class="form-control text-start" name="name" placeholder="Enter the name..." required>
              <div class="invalid-feedback">
                Enter The Name
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <input type="email" class="form-control  text-start" name="email" placeholder="Enter the email..."required>
              <div class="invalid-feedback">
               Enter the Email
              </div>
            </div>
            <div class="col-12 mb-3">
              <textarea class="form-control  text-start" name="message" placeholder="Message..." required></textarea>
              <div class="invalid-feedback">
                Message
              </div>
            </div>
            <div class="d-flex justify-content-center">
              <button type="submit" class="send-message">Send</button>
            </div>

            {% csrf_token %}
          </form>
          {% if "sucess_msg" in request.session %}
            <p style="color: green;">{{ request.session.sucess_msg }}
            <p>
          {% endif %}
        </div>
      </div>
    </div>
  </section>
  {% endif %}

  <section class="footer">
    <div class="share">
      <a href="#" class="fab fa-facebook-f"></a>
      <a href="#" class="fab fa-twitter"></a>
      <a href="#" class="fab fa-instagram"></a>
      <a href="#" class="fab fa-linkedin"></a>
      <a href="#" class="fab fa-pinterest"></a>
    </div>
    <div class="links">
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#cource">cources</a>
      <a href="#contactus">location</a>
      <a href="#contact">Contact</a>
      <a href="#Privacy Policy">Privacy Policy</a>
    </div>
    <div class="created">created by <span>Admission</span> | All right reserved</div>
  </section>




  <script>
    // Get the element
    let topBtn = document.querySelector(".top-btn");
    // On Click, Scroll to the page's top, replace 'smooth' with 'auto' if you don't want smooth scrolling
    topBtn.onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });
    // On scroll, Show/Hide the btn with animation
    window.onscroll = () => window.scrollY > 700 ? topBtn.style.opacity = 1 : topBtn.style.opacity = 0


    const navbar = document.querySelector('.nav-fixed');
    window.onscroll = () => {
      if (window.scrollY > 140) {
        navbar.classList.add('nav-scroll')
      } else {
        navbar.classList.remove('nav-scroll');
      }
    };

    // print text one letter each time 
    var myText = `Thank you for your interest in Admission of Science and Technology (AST). We suggest you carefully review the 
  list of requirements below and prepare your application in advance of the deadline. `;
    var myArray = myText.split("");
    var loopTimer;
    function frameLooper() {

      if (myArray.length > 0) {
        document.getElementById("type_text").innerHTML += myArray.shift();
      }
      else {
        clearTimeout(loopTimer);
        return false;
      }
      loopTimer = setTimeout(`frameLooper()`, 30);
    }
    frameLooper();

    //  JavaScript for disabling form submissions if there are invalid fields
    (() => {
      'use strict'

      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      const forms = document.querySelectorAll('.needs-validation')

      // Loop over them and prevent submission
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
          }

          form.classList.add('was-validated')
        }, false)
      })
    })()


  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
    crossorigin="anonymous"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  </script>
  {% load static %}
  <script src="{% static 'js/edit.js' %}" type="text/javascript"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
  <!-- <script type="text/javascript" src="{% static 'js/script.js' %}"></script> -->

</body>

</html>

